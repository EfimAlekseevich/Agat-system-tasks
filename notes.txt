Сразу общее замечание: при заливке проекта на репозиторий создавай сразу файл для замечаний, чтобы я не добавлял. А я буду просто редактировать.

1) sync - это константа, я вроде в таком виде тебе и давал
2) Длина буфера обработки должна быть 5 мс, как я и указывал, а не sizeof (sync)/sizeof (int16_t) - это частный случай, что так совпало. Соотвественно, sync_len должна быть константой.
3) Вместо конструкции "fgets(line, 5, data_file); buffer[i] = atoi(line);" можно использовать форматное чтение из файла fscanf()
4) В функциях должны быть комментарии (да хоть в каждой строке, кроме самый тривиальных), чтобы можно было понять, что за операция выполняется и зачем
5) Перед функциями должен быть комментарий в стиле Doxygen
6) Порог определения в принципе нормально сделан, как я и хотел. Сам алгоритм анализа НЕВЕРНЫЙ. Я говорил, что обработка ВЕДЕТСЯ БУФЕРАМИ ПО 5 МС, то есть буфер обрабатывается ЦЕЛИКОМ. Потом читается ЦЕЛИКОМ следующий буфер и обрабатывается ЦЕЛИКОМ и так до конца файла. Соответственно, здесь есть скользкие моменты, которые нужно обойти. А ты берешь просто читаешь по одному сэмплу, что в корне не соотвествует заданию.
7) Я результат работы программы просил выводить в файл, а не в консоль.
8) Я результат работы программы просил выводить в виде временной отметки вроде секунды.доли_секунды (до 100 мкс)
8) Ну и самое главное, результат работы неверный - ты хоть сам анализировал значения? Сработок корреляции слишком много. Ну подумай сам, если длина шаблона 120 элементов, разве могут значения корреляции встречаться раньше, чем через 120 отсчетов? А у тебя что?
